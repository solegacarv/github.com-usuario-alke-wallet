<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Depositar | Alke Wallet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body class="bg-light d-flex justify-content-center align-items-center min-vh-100">

  <div class="card shadow-sm" style="max-width: 500px; width: 100%;">
    <div class="card-body">
      <h3 class="text-center mb-4"><i class="bi bi-cash-stack me-2"></i> Depositar Dinero</h3>
      
      <!-- Formulario de depósito -->
      <form id="depositForm" novalidate>
        <!-- Monto -->
        <div class="mb-3">
          <label for="amount" class="form-label">Monto a depositar</label>
          <input type="number" class="form-control" id="amount" placeholder="Ej: 10000" min="1" required>
          <div class="invalid-feedback">Ingresa un monto válido mayor a 0.</div>
        </div>

        <!-- Método de depósito -->
        <div class="mb-3">
          <label for="method" class="form-label">Método de depósito</label>
          <select class="form-select" id="method" required>
            <option value="" selected disabled>Selecciona un método</option>
            <option value="Tarjeta de crédito">Tarjeta de crédito</option>
            <option value="Transferencia bancaria">Transferencia bancaria</option>
            <option value="Efectivo">Efectivo</option>
          </select>
          <div class="invalid-feedback">Selecciona un método de depósito.</div>
        </div>

        <!-- Descripción -->
        <div class="mb-3">
          <label for="description" class="form-label">Descripción</label>
          <textarea class="form-control" id="description" rows="2" placeholder="Ej: Recarga desde banco" required></textarea>
          <div class="invalid-feedback">La descripción es obligatoria.</div>
        </div>

        <!-- Botones -->
        <button type="submit" class="btn custom-btn w-100">
          <i class="bi bi-cash me-2"></i> Depositar
        </button>
        <a href="menu.html" class="btn btn-outline-dark w-100 mt-2">
          <i class="bi bi-arrow-left-circle me-2"></i> Volver al menú
        </a>
      </form>
    </div>
  </div>

  <!-- Script de validación y simulación -->
  <script>
    (() => {
      'use strict';
      const form = document.getElementById('depositForm');

      form.addEventListener('submit', event => {
        event.preventDefault();
        if (!form.checkValidity()) {
          event.stopPropagation();
          form.classList.add('was-validated');
          return;
        }

        const amount = document.getElementById('amount').value;
        const method = document.getElementById('method').value;
        const description = document.getElementById('description').value;

        const transaction = {
          tipo: "Depósito",
          monto: amount,
          metodo: method,
          descripcion: description,
          fecha: new Date().toLocaleDateString(),
          hora: new Date().toLocaleTimeString()
        };

        // Guardar en localStorage
        let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
        transactions.push(transaction);
        localStorage.setItem('transactions', JSON.stringify(transactions));

        alert(`✅ Depósito realizado:\n\nMonto: $${amount}\nMétodo: ${method}\nDescripción: ${description}\nFecha: ${transaction.fecha} ${transaction.hora}`);

        window.location.href = 'menu.html';
      });
    })();
  </script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>